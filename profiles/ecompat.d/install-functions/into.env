#!/bin/sh
# Usage: into <path>
# Variables: ED
# into: Sets the root (DESTTREE) for dobin,newbin,dosbin,newsbin,dolib,newlib.
# https://devmanual.gentoo.org/eclass-reference/ebuild/
# Date: 2024-05-24 14:00 UTC - last change

into() {
  local IFS="$(printf '\n\t') "
  local FUNCNAME="into"
  local ED=${ED:-$INSTALL_DIR}

  : ${ED:?required install dir variables} ${1:?Usage: $FUNCNAME [path]... Error}

  if test "${#}" -ne '1' && test -z "${1%/}";then
    printf '%s\n' "Usage: ${FUNCNAME} [path]... Error" >&2
    return 1
  fi

  DESTTREE=${1%/}${1:+/}

  printf %s "${FUNCNAME}: mkdir -pm 0755 ${ED}${DESTTREE}"
  mkdir -pm 0755 -- "${ED}"${DESTTREE} || { printf %s\\n "... Error" >&2; return 1;}
  printf '\n'

  export DESTTREE
}
