Author: Artjom Slepnjov "Shellgen"
Description: add build static-lib
Ver: fdlibm-5.3.1
Date: 2026.02.18 15:00 UTC
===================================================================================
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -94,6 +94,9 @@
 add_library (fdlibm ${FDLIBM_SOURCE_FILES} ${FDLIBM_INCLUDE_FILES})
 target_compile_definitions(fdlibm PUBLIC "_IEEE_LIBM")
 
+add_library(fdlibm-static STATIC ${FDLIBM_SOURCE_FILES} ${FDLIBM_INCLUDE_FILES})
+set_target_properties(fdlibm-static PROPERTIES OUTPUT_NAME fdlibm)
+
 # Make sure the compiler can find include files for our library
 # when other libraries or executables link to fdlibm
 target_include_directories (fdlibm PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})
@@ -101,7 +104,7 @@
 
 INSTALL(FILES ${FDLIBM_INCL_FILES} DESTINATION include)
 INSTALL(FILES ${FDLIBM_SOURCE_FILES} DESTINATION src)
-INSTALL(TARGETS fdlibm
+INSTALL(TARGETS fdlibm fdlibm-static
   RUNTIME DESTINATION bin
   LIBRARY DESTINATION lib
   ARCHIVE DESTINATION lib
